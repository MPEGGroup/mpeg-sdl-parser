import type { AbstractCompositeNode } from "../../src/ast/node/abstract-composite-node.ts";
import type { AbstractLeafNode } from "../../src/ast/node/abstract-leaf-node.ts";
import { NodeKind } from "../../src/ast/node/enum/node-kind.ts";
import type { NodeHandler } from "../../src/ast/visitor/node-handler.ts";

export default class HistoryRecordingNodeHandler implements NodeHandler {
  nodeHistory: string[] = [];

  beforeVisit(node: AbstractCompositeNode): void {
    this.nodeHistory.push(NodeKind[node.nodeKind]);
  }

  visit(node: AbstractLeafNode): void {
    this.nodeHistory.push(NodeKind[node.nodeKind]);
  }

  afterVisit(_node: AbstractCompositeNode): void {
  }
}

const expectedHistory = [
  "SPECIFICATION",
  "STATEMENT",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "TOKEN",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "TOKEN",
  "STATEMENT",
  "IDENTIFIER",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "CLASS_MEMBER_ACCESS",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "STATEMENT",
  "TOKEN",
  "STATEMENT",
  "ELEMENTARY_TYPE",
  "TOKEN",
  "LENGTH_ATTRIBUTE",
  "TOKEN",
  "EXPRESSION",
  "NUMBER_LITERAL",
  "TOKEN",
  "TOKEN",
  "IDENTIFIER",
  "TOKEN",
  "ARRAY_DIMENSION",
  "TOKEN",
  "EXPRESSION",
  "IDENTIFIER",
  "TOKEN",
  "TOKEN",
  "TOKEN",
  "TOKEN",
  "TOKEN",
];

export { expectedHistory };
